<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homepage</title>
</head>
<body>
   <button id="openRegisterModal">Register</button>
   <button id="openLoginModal">Login</button>

   <!-- Modal de Registro -->
   <div id="registerModal" class="modal" style="display: none;">
       <div class="modal-content">
           <h2>Registrar</h2>
           <form id="registration-form" method="post" action="/register">
               <label for="nome">Nome:</label>
               <input type="text" id="nome" name="nome" required>

               <label for="email">Email:</label>
               <input type="email" id="email" name="email" required>

               <label for="senha_registro">Senha:</label>
               <input type="password" id="senha_registro" name="senha" required>
               <button type="submit">Registrar</button>
           </form>
       </div>
   </div>

   <!-- Modal de Login -->
   <div id="loginModal" class="modal" style="display: none;">
       <div class="modal-content">
           <h2>Login</h2>
           <form id="login-form" method="post" action="/login">
               <label for="nome_de_usuario">Nome de Usuário:</label>
               <input type="text" id="nome_de_usuario" name="nome_de_usuario" required>

               <label for="senha_login">Senha:</label>
               <input id="senha_login" name="senha" required type="password">

               <button type="submit">Login</button>
           </form>
       </div>
   </div>

   <div id="error-message" style="display: none;" class="alert alert-danger"></div>

   {% with messages = get_flashed_messages() %}
      {% if messages %}
         <ul>
            {% for message in messages %}
                <li class="flash-message">{{ message }}</li>
             {% endfor %}
         </ul>
      {% endif %}
   {% endwith %}

   <script>
   // Esconde as mensagens flash após 5 segundos (5000 milissegundos)
   setTimeout(function () {
       var flashMessages = document.querySelectorAll('.flash-message');
       flashMessages.forEach(function (message) {
           message.style.display = 'none';
       });
    }, 5000); // 5000 milissegundos (5 segundos)
   </script>

    <script>
    // Quando o botão de registro é clicado, abra o modal de registro
    document.getElementById("openRegisterModal").addEventListener("click", function () {
        document.getElementById("registerModal").style.display = "block";
    });

    // Quando o botão de login é clicado, abra o modal de login
    document.getElementById("openLoginModal").addEventListener("click", function () {
        document.getElementById("loginModal").style.display = "block";
    });

    // Para fechar os modais
    var modals = document.getElementsByClassName("modal");
    window.onclick = function (event) {
        for (var i = 0; i < modals.length; i++) {
            if (event.target == modals[i]) {
                modals[i].style.display = "none";
            }
        }
    };
    </script>

  </body>
</html>